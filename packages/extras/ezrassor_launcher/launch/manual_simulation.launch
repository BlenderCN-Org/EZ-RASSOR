<?xml version="1.0" encoding="UTF-8"?>
<launch>

  <!-- Launch the simulation with manual controls. 
       Written by Ron Marrero and Tiger Sachse. -->
  <arg name="control_method"
       default="gamepad"
       doc="Specify the control method ('gamepad' or 'app')."/> 
  <arg name="world"
       default="base"
       doc="Specify the world name ('base', 'moon' or 'mars')."/>
  <arg name="id"
       default=""
       doc="Robot ID Number."/>
  <arg name="paused"
       default="false"
       doc="Start the simulation paused."/>

  <!--env name="ROS_NAMESPACE" value="ezrassor$(arg id)"/-->
  <!--     
  <include file="$(find ezrassor_launcher)/launch/communication.launch">
    <arg name="control_method" value="$(arg control_method)"/>
    <arg name="id" value="$(arg id)"/>
  </include>
  -->
  <group>

    <include file="$(find ezrassor_sim_control)/launch/sim_control.launch">
      <arg name="id" value="$(arg id)"/>
    </include>

    <include file="$(find ezrassor_sim_gazebo)/launch/sim_gazebo.launch">
      <arg name="paused" value="$(arg paused)"/>
      <arg name="world" value="$(arg world)"/>
      <arg name="id" value="$(arg id)"/>
    </include>

  </group>

</launch>
