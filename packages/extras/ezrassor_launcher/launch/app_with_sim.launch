<?xml version="1.0" encoding="UTF-8"?>
<launch>

    <include file="$(find ezrassor_sim_gazebo)/launch/sim_gazebo.launch"/>

    <group ns="ezrassor1">
        
        <include file="$(find ezrassor_controller_server)/launch/configurable_controller_server.launch">
            <arg name="port" value="8080"/>
            <arg name="wheel_instructions_topic" value="wheel_instructions"/>
            <arg name="front_arm_instructions_topic" value="front_arm_instructions"/>
            <arg name="back_arm_instructions_topic" value="back_arm_instructions"/>
            <arg name="front_drum_instructions_topic" value="front_drum_instructions"/>
            <arg name="back_drum_instructions_topic" value="back_drum_instructions"/>
        </include>
        
        <include file="$(find ezrassor_sim_description)/launch/spawn_model.launch">
            <arg name="y" value="-4"/>
            <arg name="id" value="1"/>
        </include>
        
        <include file="$(find ezrassor_sim_control)/launch/sim_control.launch"/>

    </group>

    <group ns="ezrassor2">
        
        <include file="$(find ezrassor_controller_server)/launch/configurable_controller_server.launch">
            <arg name="port" value="8079"/>
            <arg name="wheel_instructions_topic" value="wheel_instructions"/>
            <arg name="front_arm_instructions_topic" value="front_arm_instructions"/>
            <arg name="back_arm_instructions_topic" value="back_arm_instructions"/>
            <arg name="front_drum_instructions_topic" value="front_drum_instructions"/>
            <arg name="back_drum_instructions_topic" value="back_drum_instructions"/>
        </include>
        
        <include file="$(find ezrassor_sim_description)/launch/spawn_model.launch">
            <arg name="y" value="0"/>
            <arg name="id" value="2"/>
        </include>
        
        <include file="$(find ezrassor_sim_control)/launch/sim_control.launch"/>

    </group>

    <group ns="ezrassor3">
        
        <include file="$(find ezrassor_controller_server)/launch/configurable_controller_server.launch">
            <arg name="port" value="8078"/>
            <arg name="wheel_instructions_topic" value="wheel_instructions"/>
            <arg name="front_arm_instructions_topic" value="front_arm_instructions"/>
            <arg name="back_arm_instructions_topic" value="back_arm_instructions"/>
            <arg name="front_drum_instructions_topic" value="front_drum_instructions"/>
            <arg name="back_drum_instructions_topic" value="back_drum_instructions"/>
        </include>
        
        <include file="$(find ezrassor_sim_description)/launch/spawn_model.launch">
            <arg name="y" value="4"/>
            <arg name="id" value="3"/>
        </include>
        
        <include file="$(find ezrassor_sim_control)/launch/sim_control.launch"/>

    </group>

</launch>