<?xml version="1.0" encoding="UTF-8"?>
<launch>

    <include file="$(find ezrassor_sim_gazebo)/launch/sim_gazebo.launch"/>

    <group ns="ezrassor1">
        
        <include file="$(find ezrassor_sim_description)/launch/spawn_model.launch">
            <arg name="x" value="-4"/>
            <arg name="id" value="1"/>
        </include>
        
        <include file="$(find ezrassor_sim_control)/launch/sim_control.launch"/>

        <include file="$(find ezrassor_autonomous_control)/launch/autonomy.launch">
          <arg name="target_x" value="15"/>
          <arg name="target_y" value="15"/>
        </include>

    </group>

    <group ns="ezrassor2">
        
        <include file="$(find ezrassor_sim_description)/launch/spawn_model.launch">
            <arg name="x" value="0"/>
            <arg name="id" value="2"/>
        </include>
        
        <include file="$(find ezrassor_sim_control)/launch/sim_control.launch"/>

        <include file="$(find ezrassor_autonomous_control)/launch/autonomy.launch">
          <arg name="target_x" value="-15"/>
          <arg name="target_y" value="15"/>
        </include>

    </group>

    <group ns="ezrassor3">
        
        <include file="$(find ezrassor_sim_description)/launch/spawn_model.launch">
            <arg name="x" value="4"/>
            <arg name="id" value="3"/>
        </include>
        
        <include file="$(find ezrassor_sim_control)/launch/sim_control.launch"/>
  
        <include file="$(find ezrassor_autonomous_control)/launch/autonomy.launch">
          <arg name="target_x" value="-15"/>
          <arg name="target_y" value="-15"/>
        </include>

    </group>

</launch>