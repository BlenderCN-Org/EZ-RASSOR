<?xml version="1.0" encoding="UTF-8"?>
<launch>
  <!-- Launch a controller node and the request switcher for the EZ-RASSOR.
       Written by Tiger Sachse. -->
  <arg name="control_method"
       default="gamepad"
       doc="Specify the control method ('gamepad' or 'app')."
  />
  <arg name="id"
       default=""
       doc="Robot ID Number."/>

  <include file="$(find ezrassor_request_switch)/launch/request_switch.launch">
    <arg name="id" value="$(arg id)"/>
  </include>

  <include file="$(find ezrassor_joy_translator)/launch/joy_translator.launch" if="$(eval control_method == 'gamepad')">
    <arg name="id" value="$(arg id)"/>
  </include>

  <include file="$(find ezrassor_controller_server)/launch/controller_server.launch" if="$(eval control_method == 'app')">
    <arg name="id" value="$(arg id)"/>
  </include>
  
</launch>
